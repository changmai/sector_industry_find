@echo off
chcp 65001 >nul
REM ================================================================================
REM   [시뮬레이션 10] 복합 전략 전체 탐색 (멀티 조건 조합)
REM ================================================================================
REM
REM   전략 논리:
REM   --------------------------------------------------------------------------
REM   7가지 조건의 모든 2~4개 조합을 테스트하여 최적 조합 탐색.
REM
REM   사용 조건:
REM   --------------------------------------------------------------------------
REM   - A: 섹터+업종 연속 상승 (모멘텀)
REM   - B: 60일 신고거래대금 (거래량)
REM   - D: 이평선 정배열 (추세)
REM   - E: 신고가 근접 (돌파 임박)
REM   - F: 거래량 급증 (관심 증가)
REM   - G: 회전율 범위 (적정 거래)
REM   - H: 눌림목 패턴 (조정 매수)
REM
REM   조합 크기:
REM   --------------------------------------------------------------------------
REM   - 최소: 2개 조건
REM   - 최대: 4개 조건
REM   - 총 조합 수: C(7,2) + C(7,3) + C(7,4) = 21 + 35 + 35 = 91개
REM
REM   투자 아이디어:
REM   --------------------------------------------------------------------------
REM   어떤 조건 조합이 가장 높은 수익률을 보이는지 데이터 기반 탐색.
REM   과적합 주의: 결과는 참고용이며 Out-of-Sample 테스트 필요.
REM
REM   TP/SL 설정:
REM   --------------------------------------------------------------------------
REM   - 익절: +10%
REM   - 손절: -5%
REM   - 최대 보유: 14일
REM
REM   예상 소요시간: 매우 김 (91개 조합 x 거래일)
REM ================================================================================

cd /d "%~dp0.."

python combination_tester.py ^
    --conditions A,B,D,E,F,G,H ^
    --start-date 20240101 ^
    --end-date 20241231 ^
    --tp 10 ^
    --sl -5 ^
    --max-holding 14 ^
    --min-trades 30 ^
    --min-size 2 ^
    --max-size 4 ^
    --sort-by avg_return ^
    --top 30 ^
    --log

pause
