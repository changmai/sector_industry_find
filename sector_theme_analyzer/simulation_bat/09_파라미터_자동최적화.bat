@echo off
chcp 65001 >nul
REM ================================================================================
REM   [시뮬레이션 09] 2단계 파라미터 자동 최적화
REM ================================================================================
REM
REM   전략 논리:
REM   --------------------------------------------------------------------------
REM   대상 조건: H (눌림목), I (급등주 조정)
REM
REM   [1단계] 개별 조건 파라미터 최적화:
REM   --------------------------------------------------------------------------
REM   - 조건 H 파라미터 그리드:
REM     * smart_money_turnover: 5%, 10%, 15%
REM     * support_margin: 2%, 3%, 5%
REM     * min_trade_value: 3억, 5억, 10억
REM
REM   - 조건 I 파라미터 그리드:
REM     * disparity_min: 1.08, 1.10, 1.12, 1.15
REM     * disparity_max: 1.20, 1.25, 1.30
REM     * min_turnover: 2%, 3%, 5%
REM
REM   [2단계] 최적 파라미터로 조합 테스트:
REM   --------------------------------------------------------------------------
REM   - 1단계에서 찾은 최적 파라미터 적용
REM   - H, I, H AND I 조합 테스트
REM
REM   투자 아이디어:
REM   --------------------------------------------------------------------------
REM   조건의 기본 파라미터가 최적이 아닐 수 있음.
REM   데이터 기반으로 최적 파라미터 탐색 후 조합 테스트.
REM
REM   예상 소요시간: 매우 김 (파라미터 조합 x 날짜 x 조합)
REM ================================================================================

cd /d "%~dp0.."

python combination_tester.py ^
    --conditions H,I ^
    --start-date 20240101 ^
    --end-date 20241231 ^
    --tp 10 ^
    --sl -5 ^
    --max-holding 14 ^
    --auto-optimize ^
    --min-trades 20 ^
    --min-size 1 ^
    --max-size 2 ^
    --log

pause
